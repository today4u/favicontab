"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(t){var o={};function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&"object"===(void 0===n?"undefined":_typeof(n))&&n&&n.__esModule)return n;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)r.d(t,o,function(e){return n[e]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s="./src/js/installed.js")}({"./src/js/const.js":function srcJsConstJs(module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__["default"] = ({\n  idPrefix:        \'bid\',\n  positionPrefix:  \'positions\',\n  notExistPrefix:  \'notexists\',\n  initFolderTitle: \'FaviconTabFolder\',\n  optionsData: {\n    "linkTarget":[\n      {"value":0, "label":"Same Window", "target":"_self" },\n      {"value":1, "label":"New Window",  "target":"_blank"}\n    ],\n    "placement":[\n      {"id":"placement-auto",   "value":0, "label":"Auto"  },\n      {"id":"placement-manual", "value":1, "label":"Manual"}\n    ],\n    "folderType": [\n      {"id":"folderType0", "value":0, "label":"Change Screen"},\n      {"id":"folderType1", "value":1, "label":"Open & Close" }\n    ]\n  }\n});\n\n\n//# sourceURL=webpack:///./src/js/const.js?')},"./src/js/installed.js":function srcJsInstalledJs(module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_installed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/installed */ "./src/js/modules/installed.js");\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./const */ "./src/js/const.js");\n\n\n//const INIT_FOLDER_TITLE = \'FaviconTabFolder\';\n\n//拡張機能インストール時に実行\nchrome.runtime.onInstalled.addListener(function() {\n  //初期値をセット\n  _modules_installed__WEBPACK_IMPORTED_MODULE_0__["default"].initLocalStrage(\'backgroundColor\', \'#ffffff\');\n  _modules_installed__WEBPACK_IMPORTED_MODULE_0__["default"].initLocalStrage(\'linkTarget\',      0);\n  _modules_installed__WEBPACK_IMPORTED_MODULE_0__["default"].initLocalStrage(\'placement\',       0);\n  _modules_installed__WEBPACK_IMPORTED_MODULE_0__["default"].initLocalStrage(\'folderType\',      0);\n  _modules_installed__WEBPACK_IMPORTED_MODULE_0__["default"].initLocalStrage(\'useFolder\',       0);\n  //順番に実行\n  Promise.resolve()\n    .then(function(){\n      return new Promise(function(resolve, reject){\n        chrome.bookmarks.getTree(function(roots){\n          roots.forEach(parser);\n          function parser(node){\n            if (node.children) {\n              if(node.title === _const__WEBPACK_IMPORTED_MODULE_1__["default"].initFolderTitle) {\n                resolve(node.id);\n                return true;\n              }\n              node.children.forEach(parser);\n            }\n          }\n          reject();\n        });\n      });\n    })\n    .then(function(id){\n      return new Promise(function(resolve, reject){\n        //初期フォルダーに指定\n        localStorage.setItem(\'useFolder\', id);\n      });\n    })\n    .catch(function(){\n      chrome.bookmarks.create({"title": _const__WEBPACK_IMPORTED_MODULE_1__["default"].initFolderTitle},function(newFolder) {\n        localStorage.setItem(\'useFolder\', newFolder.id);\n      });  \n    });\n});\n\n\n\n//# sourceURL=webpack:///./src/js/installed.js?')},"./src/js/modules/installed.js":function srcJsModulesInstalledJs(module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const */ "./src/js/const.js");\n\n\n/* harmony default export */ __webpack_exports__["default"] = ({\n  initLocalStrage: function(name, value) {\n    if(localStorage.getItem(name) === null) {\n      localStorage.setItem(name,value);\n    }\n  }\n});\n\n\n\n//# sourceURL=webpack:///./src/js/modules/installed.js?')}});