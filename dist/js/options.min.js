"use strict";var jsonPath="../json/options.json";chrome.bookmarks.getTree(function(e){var o=[];e.forEach(function e(t){t.children&&("0"!=t.id&&o.push({value:t.id,index:t.index,label:t.title,parentId:t.parentId}),t.children.forEach(e))}),buildOptionSettingRadio("useFolder",o)});var xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(4===xhr.readyState&&200===xhr.status){var e=JSON.parse(xhr.responseText);buildOptionSettingRadio("placement",e.placement),buildOptionSettingRadio("folderType",e.folderType),buildOptionSettingRadio("linkTarget",e.linkTarget)}},xhr.open("GET",jsonPath,!0),xhr.send(null);var backgroundColor=document.getElementById("backgroundColor");function buildOptionSettingRadio(n,e){var r=document.getElementById(n);e.forEach(function(e){var t=document.createElement("label"),o=document.createElement("input"),a=document.createTextNode(e.label);o.setAttribute("value",e.value),o.setAttribute("type","radio"),o.setAttribute("name",n),void 0!==e.id&&o.setAttribute("id",e.id),localStorage[n]==e.value&&o.setAttribute("checked","checked"),t.appendChild(o),t.appendChild(a),r.appendChild(t)}),r.addEventListener("click",function(e){"input"===e.target.localName&&(localStorage[n]=e.target.value,valueControl(n,e.target.value))})}backgroundColor.setAttribute("value",localStorage.backgroundColor),backgroundColor.addEventListener("change",function(e){localStorage.backgroundColor=e.target.value});var valueControl=function(e,t){switch(e){case"placement":var o=document.getElementById("folderType");"1"===t?(localStorage.setItem("folderType",0),document.getElementById("folderType0").checked=!0,o.setAttribute("disabled","disabled")):o.removeAttribute("disabled"),console.log(o.child)}};